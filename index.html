<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Last Jodaween</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap');

  * { margin:0; padding:0; box-sizing:border-box; font-family: 'Montserrat', sans-serif; }

  body {
    background: linear-gradient(180deg, #0b0b0b 0%, #1c0b2a 100%);
    color: #fff;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    overflow-x: hidden;
  }

  header {
    text-align: center;
    padding: 30px 10px 20px;
  }

  header img {
    max-height: 100px;
    margin-bottom: 10px;
    filter: drop-shadow(0 0 10px #ff9800);
  }

  header h1 {
    font-size: 3rem;
    color: #ff9800;
    text-shadow: 0 0 20px #ff6f00;
    animation: glow 2s ease-in-out infinite alternate;
  }

  header h2 {
    font-size: 1.2rem;
    font-weight: 400;
    color: #f1f1f1;
  }

  @keyframes glow {
    0% { text-shadow: 0 0 10px #ff9800, 0 0 20px #ff6f00; }
    100% { text-shadow: 0 0 20px #ffb74d, 0 0 30px #ffa000; }
  }

  .container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 30px;
    max-width: 1200px;
    margin-bottom: 40px;
  }

  .counter-box {
    background: rgba(30,30,30,0.8);
    border-radius: 15px;
    padding: 20px 30px;
    text-align: center;
    min-width: 200px;
    box-shadow: 0 0 15px rgba(255,152,0,0.3);
    transition: transform 0.3s ease;
  }

  .counter-box:hover { transform: scale(1.05); }

  .counter-box h3 { font-size: 1.5rem; color: #ff9800; margin-bottom: 10px; }
  .counter-box span { font-size: 2.2rem; font-weight: bold; text-shadow: 0 0 10px #ff9800; }

  .description-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 30px;
    max-width: 1200px;
    padding: 0 10px;
    margin-bottom: 50px;
  }

  .description-text {
    flex: 2;
    min-width: 280px;
    background: rgba(30,30,30,0.8);
    padding: 20px;
    border-radius: 15px;
    line-height: 1.7;
    box-shadow: 0 0 10px rgba(255,152,0,0.2);
    text-align: justify;
  }

  .description-img {
    flex: 1;
    min-width: 280px;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .description-img img {
    max-width: 100%;
    border-radius: 15px;
    filter: brightness(0.85);
    box-shadow: 0 0 15px rgba(255,152,0,0.2);
  }

  .disfraz-img {
    margin-top: 20px;
    text-align: center;
  }

  .disfraz-img img {
    max-width: 80%;
    border-radius: 15px;
    filter: brightness(0.85);
    box-shadow: 0 0 15px rgba(255,152,0,0.3);
    transition: transform 0.3s ease;
  }

  .disfraz-img img:hover { transform: scale(1.05); }

  footer {
    padding: 20px;
    text-align: center;
    color: #e0e0e0;
    font-size: 1rem;
    background: #1c0b2a;
  }

  footer span { color: #ff9800; }

  /* Murciélagos flotando mejorados */
  .bat {
    position: absolute;
    width: 40px;
    height: 20px;
    background: #444;
    clip-path: polygon(
      0 100%, 10% 0, 25% 100%, 40% 0, 55% 100%, 70% 0, 85% 100%, 100% 0, 100% 100%, 0 100%
    );
    opacity: 0.3;
    animation: fly linear infinite;
  }

  .bat1 { top: 50px; left: -60px; animation-duration: 12s; animation-delay: 0s; transform: scale(1); }
  .bat2 { top: 120px; left: -80px; animation-duration: 14s; animation-delay: 2s; transform: scale(0.8); }
  .bat3 { top: 200px; left: -100px; animation-duration: 16s; animation-delay: 4s; transform: scale(1.2); }
  .bat4 { top: 280px; left: -120px; animation-duration: 18s; animation-delay: 6s; transform: scale(0.9); }
  .bat5 { top: 360px; left: -140px; animation-duration: 20s; animation-delay: 8s; transform: scale(1.1); }

  @keyframes fly {
    0% { transform: translateX(0) translateY(0) rotate(0deg); }
    25% { transform: translateX(25vw) translateY(-10px) rotate(5deg); }
    50% { transform: translateX(50vw) translateY(10px) rotate(-5deg); }
    75% { transform: translateX(75vw) translateY(-5px) rotate(5deg); }
    100% { transform: translateX(130vw) translateY(0) rotate(0deg); }
  }
</style>
</head>
<body>
  <!-- Murciélagos decorativos -->
  <div class="bat bat1"></div>
  <div class="bat bat2"></div>
  <div class="bat bat3"></div>
  <div class="bat bat4"></div>
  <div class="bat bat5"></div>

  <header>
    <img src="logo.png" alt="Logo Jodaween">
    <h1>The Last Jodaween</h1>
    <h2>Fiesta de disfraces</h2>
  </header>

  <div class="container">
    <div class="counter-box">
      <h3>Faltan</h3>
      <span id="dias">0</span> días
    </div>
    <div class="counter-box">
      <h3>Participantes</h3>
      <span id="participantes">0</span>
    </div>
  </div>

  <div class="description-container">
    <div class="description-text">
      <p>
        En lo alto de nuestros años universitarios, entre risas, desvelos y exámenes, nació una tradición que hoy llega a su último acto:
        <strong>The Last Jodaween</strong>.  
      </p>
      <p>
        Esta no es solo una fiesta de disfraces. Es la memoria viva de un grupo que quiso dejar huella. Un legado que quedará en nuestra U, más allá de un salón, más allá de un semestre.
      </p>
      <p>
        Hoy invitamos a todos —compañeros, amigos y demás generaciones— a ser parte de esta historia. Ven con tu mejor disfraz y disputa el trofeo de la Jodaween.  
      </p>
      <p>
        Porque más que colegas, somos una familia que celebra su unidad.  
      </p>

      <!-- Imagen del disfraz -->
      <div class="disfraz-img">
        <img src="disfraz.jpg" alt="Disfraz destacado">
      </div>
    </div>

    <div class="description-img">
      <img src="fiesta.jpg" alt="Imagen fiesta">
    </div>
  </div>

  <footer>
    Con mucho amor <span>By cholos ❤️</span>
  </footer>

  <script>
    // Cuenta regresiva días
    const eventDate = new Date(2025, 9, 1); // Octubre = 9
    const diasElement = document.getElementById('dias');
    function updateCountdown() {
      const now = new Date();
      const timeDiff = eventDate.setHours(0,0,0,0) - now.setHours(0,0,0,0);
      const days = Math.max(0, Math.ceil(timeDiff / (1000 * 60 * 60 * 24)));
      diasElement.textContent = days;
    }
    updateCountdown();
    setInterval(updateCountdown, 1000 * 60 * 60); // actualizar cada hora

    // Participantes desde Google Apps Script
    const participantsElement = document.getElementById('participantes');
    async function fetchParticipants() {
      try {
        const response = await fetch('https://script.google.com/macros/s/AKfycby2hXWedcbv0d1Lds0JIefrtP0P702KM4XePP_0eK6fTYZRf-qasSKLjzgoMMFfXkUs/exec');
        const data = await response.json();
        participantsElement.textContent = data.participantes || data.count || 0;
      } catch(e) {
        participantsElement.textContent = '—';
        console.error(e);
      }
    }
    fetchParticipants();
    setInterval(fetchParticipants, 60000);
  </script>
</body>
</html>