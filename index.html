<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Last Jodaween</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap');
  * { margin:0; padding:0; box-sizing:border-box; font-family: 'Montserrat', sans-serif; }

  body {
    background: linear-gradient(180deg, #0b0b0b 0%, #1c0b2a 100%);
    color: #fff;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    overflow-x: hidden;
  }

  header {
    text-align: center;
    padding: 30px 10px 20px;
  }
  header img {
    max-height: 100px;
    margin-bottom: 10px;
    filter: drop-shadow(0 0 10px #ff9800);
  }
  header h1 {
    font-size: 3rem;
    color: #ff9800;
    text-shadow: 0 0 20px #ff6f00;
    animation: glow 2s ease-in-out infinite alternate;
  }
  header h2 {
    font-size: 1.2rem;
    font-weight: 400;
    color: #f1f1f1;
  }
  @keyframes glow {
    0% { text-shadow: 0 0 10px #ff9800, 0 0 20px #ff6f00; }
    100% { text-shadow: 0 0 20px #ffb74d, 0 0 30px #ffa000; }
  }

  .container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 30px;
    max-width: 1200px;
    margin-bottom: 40px;
  }
  .counter-box {
    background: rgba(30,30,30,0.8);
    border-radius: 15px;
    padding: 20px 30px;
    text-align: center;
    min-width: 200px;
    box-shadow: 0 0 15px rgba(255,152,0,0.3);
    transition: transform 0.3s ease;
  }
  .counter-box:hover { transform: scale(1.05); }
  .counter-box h3 { font-size: 1.5rem; color: #ff9800; margin-bottom: 10px; }
  .counter-box span { font-size: 2.2rem; font-weight: bold; text-shadow: 0 0 10px #ff9800; }

  .description-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 30px;
    max-width: 1200px;
    padding: 0 10px;
    margin-bottom: 50px;
  }
  .description-text {
    flex: 2;
    min-width: 280px;
    background: rgba(30,30,30,0.8);
    padding: 20px;
    border-radius: 15px;
    line-height: 1.7;
    box-shadow: 0 0 10px rgba(255,152,0,0.2);
    text-align: justify;
  }
  .description-img {
    flex: 1;
    min-width: 280px;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .description-img img {
    max-width: 100%;
    border-radius: 15px;
    filter: brightness(0.85);
    box-shadow: 0 0 15px rgba(255,152,0,0.2);
  }

  .disfraz-img {
    margin-top: 20px;
    text-align: center;
  }
  .disfraz-img img {
    max-width: 80%;
    border-radius: 15px;
    filter: brightness(0.85);
    box-shadow: 0 0 15px rgba(255,152,0,0.3);
    transition: transform 0.3s ease;
  }
  .disfraz-img img:hover { transform: scale(1.05); }

  footer {
    padding: 20px;
    text-align: center;
    color: #e0e0e0;
    font-size: 1rem;
    background: #1c0b2a;
  }
  footer span { color: #ff9800; }

  /* Murciélagos flotando */
  .bat {
    position: absolute;
    width: 40px;
    height: 20px;
    background: #444;
    clip-path: polygon(0 100%, 10% 0, 25% 100%, 40% 0, 55% 100%, 70% 0, 85% 100%, 100% 0, 100% 100%, 0 100%);
    opacity: 0.3;
    animation: fly linear infinite;
  }
  .bat1 { top: 50px; left: -60px; animation-duration: 12s; animation-delay: 0s; transform: scale(1); }
  .bat2 { top: 120px; left: -80px; animation-duration: 14s; animation-delay: 2s; transform: scale(0.8); }
  .bat3 { top: 200px; left: -100px; animation-duration: 16s; animation-delay: 4s; transform: scale(1.2); }
  @keyframes fly {
    0% { transform: translateX(0) translateY(0) rotate(0deg); }
    25% { transform: translateX(25vw) translateY(-10px) rotate(5deg); }
    50% { transform: translateX(50vw) translateY(10px) rotate(-5deg); }
    75% { transform: translateX(75vw) translateY(-5px) rotate(5deg); }
    100% { transform: translateX(130vw) translateY(0) rotate(0deg); }
  }

  /* Calabazas flotando */
  .pumpkin {
    position: absolute;
    width: 50px;
    animation: floatPumpkins linear infinite;
  }
  .pumpkin1 { top: 80px; left: -70px; animation-duration: 18s; }
  .pumpkin2 { top: 220px; left: -90px; animation-duration: 22s; }
  @keyframes floatPumpkins {
    0% { transform: translateX(0) rotate(0deg); opacity:0.5; }
    50% { transform: translateX(50vw) rotate(15deg); opacity:1; }
    100% { transform: translateX(130vw) rotate(-15deg); opacity:0.5; }
  }

  /* Humo */
  .smoke {
    position: fixed;
    bottom: 0;
    width: 100%;
    height: 150px;
    background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
    filter: blur(20px);
    animation: smokeMove 10s infinite alternate ease-in-out;
    pointer-events:none;
  }
  @keyframes smokeMove {
    from { transform: translateY(0px); opacity:0.6; }
    to { transform: translateY(-30px); opacity:0.2; }
  }

  /* Trofeo animación */
  #trophy {
    position: fixed;
    bottom: 50px;
    right: 50px;
    width: 120px;
    opacity: 0;
    transform: scale(0.5) rotateY(0deg);
    transition: all 1s ease;
    filter: drop-shadow(0 0 10px gold);
  }
  #trophy.show {
    opacity:1;
    transform: scale(1) rotateY(360deg);
    filter: drop-shadow(0 0 25px gold);
  }
</style>
</head>
<body>
  <!-- Murciélagos -->
  <div class="bat bat1"></div>
  <div class="bat bat2"></div>
  <div class="bat bat3"></div>
  <!-- Calabazas -->
  <img src="calabaza.png" class="pumpkin pumpkin1" alt="">
  <img src="calabaza.png" class="pumpkin pumpkin2" alt="">
  <!-- Humo -->
  <div class="smoke"></div>

  <header>
    <img src="logo.png" alt="Logo Jodaween">
    <h1>The Last Jodaween</h1>
    <h2>Fiesta de disfraces</h2>
  </header>

  <div class="container">
    <div class="counter-box">
      <h3>Faltan</h3>
      <span id="countdown">0d 0h 0m 0s</span>
      <p style="margin-top:10px; font-size:1rem; color:#ffb74d;">No te lo perderás ¿cierto?</p>
    </div>
    <div class="counter-box">
      <h3>Participantes confirmados</h3>
      <span id="participantes">0</span>
    </div>
  </div>

  <div class="description-container">
    <div class="description-text">
      <p>
  ¡Prepárate para vivir <strong>The Last Jodaween</strong>!  
</p>
<p>
  Nuestra última gran fiesta de disfraces se acerca, y queremos que seas parte de este momento único. 
  Trae tu mejor disfraz, vive la música, las sorpresas y compite por el trofeo especial de la noche.
</p>
<p>
  Una noche llena de magia, amigos y recuerdos que quedarán para siempre.  
</p>
<p>
  ¡Nos vemos este <strong>1 de noviembre</strong>!  
</p>
      <div class="disfraz-img">
        <img src="disfraz.jpg" alt="Disfraz destacado">
      </div>
    </div>
    <div class="description-img">
      <img src="fiesta.jpg" alt="Imagen fiesta">
    </div>
  </div>

  <footer>
    Con mucho amor <span>By cholos ❤️</span>
  </footer>

  <!-- Trofeo -->
  <img src="trofeo.png" id="trophy" alt="Trofeo">

  <script>
    // Contador dinámico
    const eventDate = new Date(2025, 10, 1, 0, 0, 0); 
    const countdownElement = document.getElementById('countdown');
    function updateCountdown() {
      const now = new Date();
      let distance = eventDate - now;
      if (distance < 0) {
        countdownElement.textContent = "¡La fiesta comenzó!";
        return;
      }
      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      distance %= (1000 * 60 * 60 * 24);
      const hours = Math.floor(distance / (1000 * 60 * 60));
      distance %= (1000 * 60 * 60);
      const minutes = Math.floor(distance / (1000 * 60));
      distance %= (1000 * 60);
      const seconds = Math.floor(distance / 1000);
      countdownElement.textContent = `${days}d ${hours}h ${minutes}m ${seconds}s`;
    }
    updateCountdown();
    setInterval(updateCountdown, 1000);

    // Participantes
    const participantsElement = document.getElementById('participantes');
    let lastParticipants = 0;
    async function fetchParticipants() {
      try {
   const response = await fetch('https://script.google.com/macros/s/AKfycby2hXWedcbv0d1Lds0JIefrtP0P702KM4XePP_0eK6fTYZRf-qasSKLjzgoMMFfXkUs/exec');
        const data = await response.json();
        const count = data.participantes || data.count || 0;
        participantsElement.textContent = count;

        // animar trofeo si cambia número
        if (count != lastParticipants) {
          showTrophy();
          lastParticipants = count;
        }
      } catch(e) {
        participantsElement.textContent = '—';
        console.error(e);
      }
    }
    fetchParticipants();
    setInterval(fetchParticipants, 60000);

    const trophy = document.getElementById('trophy');
    function showTrophy() {
      trophy.classList.add('show');
      setTimeout(() => trophy.classList.remove('show'), 3000);
    }
  </script>
</body>
</html>