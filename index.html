<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The Last Jodaween</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background-color: #121212;
      color: #fff;
      margin: 0;
      padding: 0;
    }
    header {
      text-align: center;
      padding: 30px 10px 10px 10px;
      background: #1b1b1b;
    }
    header img {
      max-height: 100px;
      margin-bottom: 10px;
    }
    header h1 {
      font-size: 2.5rem;
      margin: 5px 0;
      color: #f9a825;
    }
    header h2 {
      font-size: 1rem;
      margin: 0;
      color: #e0e0e0;
    }
    .countdown-container {
      text-align: center;
      padding: 30px 10px;
    }
    .countdown {
      font-size: 2rem;
      font-weight: bold;
      color: #f9a825;
      margin-bottom: 15px;
    }
    .participants {
      font-size: 1.3rem;
      color: #e0e0e0;
      margin-bottom: 20px;
    }
    .description-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      align-items: center;
      padding: 20px;
      gap: 20px;
    }
    .description-text {
      flex: 1 1 300px;
      font-size: 1.1rem;
      line-height: 1.5rem;
      text-align: justify;
    }
    .description-img {
      flex: 1 1 300px;
    }
    .description-img img {
      max-width: 100%;
      border-radius: 10px;
    }
    footer {
      text-align: center;
      padding: 20px;
      background: #1b1b1b;
      font-size: 1rem;
      color: #e0e0e0;
    }
  </style>
</head>
<body>
  <header>
    <img src="logo.png" alt="Logo Jodaween">
    <h1>The Last Jodaween</h1>
    <h2>Fiesta de disfraces</h2>
  </header>

  <section class="countdown-container">
    <div class="countdown" id="countdown">Cargando tiempo...</div>
    <div class="participants">Participantes confirmados: <span id="participants">0</span></div>
  </section>

  <section class="description-container">
    <div class="description-text">
      <p>
        En lo alto de nuestros años universitarios, entre risas, desvelos y exámenes, nació una tradición que hoy llega a su último acto:
        <strong>The Last Jodaween</strong>.  
      </p>
      <p>
        Esta no es solo una fiesta de disfraces. Es la memoria viva de un grupo que quiso dejar huella. Un legado que quedará en nuestra U, más allá de un salón, más allá de un semestre.
      </p>
      <p>
        Hoy invitamos a todos —compañeros, amigos y demás generaciones— a ser parte de esta historia. Ven con tu mejor disfraz y disputa el trofeo de la Jodaween.  
      </p>
      <p>
        Porque más que colegas, somos una familia que celebra su unidad.  
      </p>
    </div>
    <div class="description-img">
      <img src="fiesta.jpg" alt="Imagen fiesta">
    </div>
  </section>

  <footer>
    Con mucho amor By cholos ❤️
  </footer>

  <script>
    // Cuenta regresiva
    const eventDate = new Date('2025-10-31T22:00:00').getTime(); // Cambia la fecha/hora del evento
    const countdownElement = document.getElementById('countdown');
    const participantsElement = document.getElementById('participants');

    function updateCountdown() {
      const now = new Date().getTime();
      const distance = eventDate - now;

      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((distance % (1000 * 60)) / 1000);

      countdownElement.innerHTML = `${days}d ${hours}h ${minutes}m ${seconds}s`;
      if (distance < 0) {
        countdownElement.innerHTML = "¡El evento ha comenzado!";
      }
    }

    setInterval(updateCountdown, 1000);

    // Participantes confirmados desde Google Apps Script
    async function fetchParticipants() {
      try {
        const response = await fetch('https://script.google.com/macros/s/AKfycby2hXWedcbv0d1Lds0JIefrtP0P702KM4XePP_0eK6fTYZRf-qasSKLjzgoMMFfXkUs/exec');
        const data = await response.json();
        participantsElement.textContent = data.participantes || data.count || 0;
      } catch (error) {
        console.error('Error al obtener participantes:', error);
        participantsElement.textContent = '—';
      }
    }

    fetchParticipants();
    setInterval(fetchParticipants, 60000); // Actualiza cada 1 min
  </script>
</body>
</html>

